{"version":3,"sources":["Searchbar/Searchbar.js","services/images-api.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","searchValue","handleChange","evt","value","target","setState","handleSubmit","preventDefault","props","onSubmit","reset","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","searchQuery","currentPage","axios","then","response","data","hits","ImageGalleryItem","smallImage","largeImage","tags","onImageClick","src","alt","onClick","ImageGallery","images","map","id","webformatURL","largeImageURL","Button","Modal","backdropClick","currentTarget","onClose","onEscClose","code","window","addEventListener","removeEventListener","App","showModal","isLoading","error","fetchImages","options","imagesApi","prevState","scrollDown","catch","finally","image","scrollTo","top","document","documentElement","scrollTop","innerHeight","behavior","prevProps","shouldRenderLoadMoreButton","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b2e35e9a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchValue: \"\",\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = (evt) => {\r\n    const { value } = evt.target;\r\n\r\n    this.setState({\r\n      searchValue: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.searchValue);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { searchValue } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={searchValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"21315741-9bacfcacd69aafd45f00bd411\";\r\n\r\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1 }) => {\r\n  return axios(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => response.data.hits);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchImages };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ smallImage, largeImage, tags, onImageClick }) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img\r\n      src={smallImage}\r\n      alt={tags}\r\n      className=\"ImageGalleryItem-image\"\r\n      onClick={() => onImageClick(largeImage, tags)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImage: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        smallImage={webformatURL}\r\n        largeImage={largeImageURL}\r\n        tags={tags}\r\n        onImageClick={onImageClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.any)).isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\n\r\nconst Button = ({ onClick}) => (\r\n  <div className=\"ButtonDiv\">\r\n    <button className=\"Button\" type=\"submit\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    largeImage: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onEscClose);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onEscClose);\r\n  }\r\n\r\n  backdropClick = (evt) => {\r\n    if (evt.target === evt.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onEscClose = (evt) => {\r\n    if (evt.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImage, tags } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.backdropClick}>\r\n        <div className=\"Modal\">\r\n          <img className=\"Modal-photo\" src={largeImage} alt={tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport \"./App.css\";\nimport imagesApi from \"./services/images-api\";\nimport ImageGallery from \"./ImageGallery\";\nimport Button from \"./Button\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    largeImageURL: \"\",\n    tags: \"\",\n    showModal: false,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      searchQuery: \"\",\n    });\n  }\n\n  onSubmit = (value) => {\n    this.setState({\n      searchQuery: value,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.scrollDown();\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onImageClick = (image, tags) => {\n    this.setState({\n      largeImageURL: image,\n      tags: tags,\n      showModal: true,\n    });\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollTop + window.innerHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageURL, tags, error } =\n      this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        {error && <h1 className=\"Error\">Something went wrong on a server side, try again later.</h1>}\n        {!error && (\n          <>\n            <ImageGallery images={images} onImageClick={this.onImageClick} />\n\n            {shouldRenderLoadMoreButton && (\n              <Button onClick={this.fetchImages} />\n            )}\n\n            {isLoading && (\n              <Loader\n                className=\"Loader\"\n                type=\"Bars\"\n                color=\"#3f51b5\"\n                height={70}\n                width={70}\n              />\n            )}\n\n            {showModal && (\n              <Modal\n                largeImage={largeImageURL}\n                tags={tags}\n                onClose={this.onClose}\n              />\n            )}\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}